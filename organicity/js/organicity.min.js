/*! Organicity - v0.1.0 - 2015-07-08
 * http://www.organicity.eu
 * Copyright (c) 2015 Future Cities Catapult */
jQuery(document).ready(function(a){function b(b){a("#filter-menu").toggleClass("active"),a("#filter-menu-button").toggleClass("active")}function c(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var c=a(this).attr("title");if(a(this).toggleClass("highlight"),"undefined"!=typeof c&&c!==!1){c in e?delete e[c]:e[c]=!0;var d="",f=0;for(tag in e)d=0==f?tag:d+","+tag,f+=1}else e={};a(".tagged-posts").fadeOut(),data={action:"filter_posts",afp_nonce:afp_vars.afp_nonce,taxonomy:d},a.post(afp_vars.afp_ajax_url,data,function(b){b&&(a(".tagged-posts").html(b),a(".tagged-posts").fadeIn())})}function d(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var c=a(this).attr("title");a(".city-filter-tab").removeClass("highlight"),a(".city-filter").removeClass("highlight"),a(this).hasClass("highlight")||a(this).addClass("highlight"),selected_taxonomy="","undefined"!=typeof c&&c!==!1&&(selected_taxonomy=c),a(".tagged-events").fadeOut(),data={action:"filter_posts",afp_nonce:afp_vars.afp_nonce,city:selected_taxonomy,postType:"event"},a.post(afp_vars.afp_ajax_url,data,function(b){b&&(a(".tagged-events").html(b),a(".tagged-events").fadeIn())})}a("#owl-demo").owlCarousel({slideSpeed:300,paginationSpeed:400,singleItem:!0}),a('a[href^="#"]').on("click",function(b){var c=a(a(this).attr("href"));c.length&&(b.preventDefault(),a("html, body").animate({scrollTop:c.offset().top},1e3))}),a("a[href=#menuExpand]").click(function(b){a(".menu").toggleClass("menuOpen"),a(".menu-wrapper").toggleClass("active"),b.preventDefault()}),Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var e={};a("#filter-menu-button").click(function(d){a("#filter-menu-button").html("Filter"==a("#filter-menu-button").html()?"Reset":"Filter"),a("#filter-menu").hasClass("active")&&(c(d),a(".tax-filter").removeClass("highlight")),b(event)}),a("#city-filter-menu-button").click(function(b){a("#city-filter-menu-button").html("Filter"==a("#city-filter-menu-button").html()?"Close":"Filter"),a("#events--city-menu").toggleClass("active"),a("#city-filter-menu-button").toggleClass("active")}),a(".tax-filter").click(c),a(".city-filter").click(d)});